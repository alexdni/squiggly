# ===========================================
# Deployment Mode Configuration
# ===========================================
# Set to 'docker' for local Docker deployment, or leave unset for cloud deployment
# DEPLOYMENT_MODE=docker

# ===========================================
# Cloud Mode Configuration (Vercel + Railway + Supabase)
# ===========================================

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your-project-url.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Google OAuth (configured in Supabase)
# No additional env vars needed - configured in Supabase dashboard

# Worker Service (Railway)
WORKER_MODE=http
WORKER_SERVICE_URL=https://your-railway-app.railway.app
WORKER_AUTH_TOKEN=your-secure-token

# ===========================================
# Docker Mode Configuration
# ===========================================
# These are used when DEPLOYMENT_MODE=docker

# Database Mode: 'supabase' (default) or 'postgres' (direct connection)
# DATABASE_MODE=postgres
# DATABASE_URL=postgresql://squiggly:squiggly@localhost:5432/squiggly

# Storage Mode: 'supabase' (default) or 'local' (filesystem)
# STORAGE_MODE=local
# STORAGE_PATH=/data/storage

# Auth Mode: 'supabase' (default) or 'local' (session-based)
# AUTH_MODE=local
# ADMIN_EMAIL=admin@local
# ADMIN_PASSWORD=changeme

# ===========================================
# Common Configuration
# ===========================================

# Python Worker Configuration
PYTHON_WORKER_TIMEOUT=600000
ANALYSIS_TIMEOUT_MS=180000

# Queue Configuration
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5000

# Storage Configuration
MAX_UPLOAD_SIZE=52428800
STORAGE_BUCKET_RECORDINGS=recordings
STORAGE_BUCKET_VISUALS=visuals
STORAGE_BUCKET_EXPORTS=exports

# Feature Flags
ENABLE_ICA=true
ENABLE_RULE_ENGINE=true
ENABLE_EXPORT=true

# App URL (for generating signed URLs in local mode)
# NEXT_PUBLIC_APP_URL=http://localhost:3000
